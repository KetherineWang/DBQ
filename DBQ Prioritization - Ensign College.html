<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DBQ Prioritization - Ensign College</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="DBQ Prioritization - Ensign College_files/libs/clipboard/clipboard.min.js"></script>
<script src="DBQ Prioritization - Ensign College_files/libs/quarto-html/quarto.js"></script>
<script src="DBQ Prioritization - Ensign College_files/libs/quarto-html/popper.min.js"></script>
<script src="DBQ Prioritization - Ensign College_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="DBQ Prioritization - Ensign College_files/libs/quarto-html/anchor.min.js"></script>
<link href="DBQ Prioritization - Ensign College_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="DBQ Prioritization - Ensign College_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="DBQ Prioritization - Ensign College_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="DBQ Prioritization - Ensign College_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="DBQ Prioritization - Ensign College_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DBQ Prioritization - Ensign College</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readxl' was built under R version 4.3.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import DBQ Ensign College (Cleaned) responses</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>ensign_college_cleaned <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Department Baseline Questionnaire.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Ensign College (Cleaned)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the column headers</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ensign_college_cleaned) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ID"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DataProcessingActivity"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DataSubject"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"PersonalDataCategory"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DataCollectionSource"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DataCollectionMethod"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"SharedData"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"InternalOrExternal"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DSAs"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"DataStorageLocation"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"PublicFacingWebsites"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"PrivacyNotice"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"CookieBanner"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"LanguageBesidesEnglish"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"MinorRelatedData"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"ConcernsOrQuestions"</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the secondary questions</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>ensign_college_main_questions <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>InternalOrExternal, <span class="sc">-</span>LanguageBesidesEnglish, <span class="sc">-</span>ConcernsOrQuestions)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame for each question</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the trailing semicolon</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate the values into rows</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>data_processing_activity <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DataProcessingActivity) <span class="sc">%&gt;%</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DataProcessingActivity =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DataProcessingActivity)) <span class="sc">%&gt;%</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DataProcessingActivity, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>data_subject <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DataSubject) <span class="sc">%&gt;%</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DataSubject =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DataSubject)) <span class="sc">%&gt;%</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DataSubject, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>personal_data_category <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, PersonalDataCategory) <span class="sc">%&gt;%</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PersonalDataCategory =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, PersonalDataCategory)) <span class="sc">%&gt;%</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(PersonalDataCategory, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>data_collection_source <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DataCollectionSource) <span class="sc">%&gt;%</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DataCollectionSource =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DataCollectionSource)) <span class="sc">%&gt;%</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DataCollectionSource, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>data_collection_method <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DataCollectionMethod) <span class="sc">%&gt;%</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DataCollectionMethod =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DataCollectionMethod)) <span class="sc">%&gt;%</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DataCollectionMethod, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>shared_data <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, SharedData) <span class="sc">%&gt;%</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SharedData =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, SharedData)) <span class="sc">%&gt;%</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(SharedData, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>dsas <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DSAs) <span class="sc">%&gt;%</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DSAs =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DSAs)) <span class="sc">%&gt;%</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DSAs, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>data_storage_location <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, DataStorageLocation) <span class="sc">%&gt;%</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DataStorageLocation =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, DataStorageLocation)) <span class="sc">%&gt;%</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(DataStorageLocation, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>public_facing_websites <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, PublicFacingWebsites) <span class="sc">%&gt;%</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PublicFacingWebsites =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, PublicFacingWebsites)) <span class="sc">%&gt;%</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(PublicFacingWebsites, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>privacy_notice <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, PrivacyNotice) <span class="sc">%&gt;%</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PrivacyNotice =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, PrivacyNotice)) <span class="sc">%&gt;%</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(PrivacyNotice, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>cookie_banner <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, CookieBanner) <span class="sc">%&gt;%</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CookieBanner =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, CookieBanner)) <span class="sc">%&gt;%</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(CookieBanner, <span class="at">sep =</span> <span class="st">";"</span>)</span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>minor_related_data <span class="ot">&lt;-</span> ensign_college_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, MinorRelatedData) <span class="sc">%&gt;%</span></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">MinorRelatedData =</span> <span class="fu">sub</span>(<span class="st">";+$"</span>, <span class="st">""</span>, MinorRelatedData)) <span class="sc">%&gt;%</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(MinorRelatedData, <span class="at">sep =</span> <span class="st">";"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Processing Activity</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to data processing activities</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>dataprocessingactivity_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Academic Advisement"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Alumni Outreach"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Campus Activities or Events"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Compliance"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Donors"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Employee Awards"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Employee Compensation"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Employee Recruitment and Hiring"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Employee Training and Development"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Faculty Instruction"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Financial"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Internships"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Marketing Materials"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Operations and Maintenance"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Promotional Emails"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Research"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Sale of Goods or Services"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Student Admissions"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Student Graduation"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Student Life"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Student Pre-Admission"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Student Registration"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Study Abroad"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Surveys"</span> <span class="ot">=</span> <span class="dv">3</span>)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the highest risk score for each respondent</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>calculate_dataprocessingactivity_maxriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(data_processing_activity, dataprocessingactivity_riskscores, <span class="at">other_dataprocessingactivity_riskscore =</span> <span class="dv">3</span>) {</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  data_processing_activity<span class="sc">$</span>DataProcessingActivity[data_processing_activity<span class="sc">$</span>DataProcessingActivity <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  data_processing_activity<span class="sc">$</span>DataProcessingActivityRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data_processing_activity<span class="sc">$</span>DataProcessingActivity), <span class="dv">0</span>,</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>                                               <span class="fu">ifelse</span>(data_processing_activity<span class="sc">$</span>DataProcessingActivity <span class="sc">%in%</span> <span class="fu">names</span>(dataprocessingactivity_riskscores), dataprocessingactivity_riskscores[data_processing_activity<span class="sc">$</span>DataProcessingActivity], other_dataprocessingactivity_riskscore))</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the maximum risk score for each respondent</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>  dataprocessingactivity_maxriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(DataProcessingActivityRiskScore <span class="sc">~</span> ID, data_processing_activity, max)</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dataprocessingactivity_maxriskscore_byid)</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>dataprocessingactivity_maxriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_dataprocessingactivity_maxriskscore</span>(data_processing_activity, dataprocessingactivity_riskscores, <span class="at">other_dataprocessingactivity_riskscore =</span> <span class="dv">3</span>)</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dataprocessingactivity_maxriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataProcessingActivityRiskScore
1    5                               3
2    6                               1
3    7                               3
4    8                               3
5    9                               3
6   10                               3
7   11                               3
8   12                               3
9   13                               2
10  14                               3
11  15                               2
12  16                               3
13  17                               3
14  18                               3
15  19                               3
16  20                               2
17  21                               3
18  22                               1
19  23                               3
20  24                               3
21  25                               3
22  26                               0
23  27                               2
24  28                               3
25  29                               3
26  30                               3
27  31                               3
28  32                               3
29  67                               3
30  78                               1
31  84                               3
32  96                               2
33 104                               3
34 111                               3
35 116                               1
36 119                               3
37 124                               3
38 133                               3
39 134                               3
40 138                               3
41 152                               3
42 159                               3
43 163                               3</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Subject</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to data subjects</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>datasubject_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Alumni"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Contractors"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Customers"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Donors"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Employees/Faculty"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Former Employees/Faculty"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Individuals involved in research or studies"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Prospective Employees"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Prospective Students"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Students"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Vendors"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Visitors (including website visitors)"</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the highest risk score for each respondent</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>calculate_datasubject_maxriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(data_subject, datasubject_riskscores, <span class="at">other_datasubject_riskscore =</span> <span class="dv">3</span>) {</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  data_subject<span class="sc">$</span>DataSubject[data_subject<span class="sc">$</span>DataSubject <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  data_subject<span class="sc">$</span>DataSubjectRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data_subject<span class="sc">$</span>DataSubject), <span class="dv">0</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">ifelse</span>(data_subject<span class="sc">$</span>DataSubject <span class="sc">%in%</span> <span class="fu">names</span>(datasubject_riskscores), datasubject_riskscores[data_subject<span class="sc">$</span>DataSubject], other_datasubject_riskscore))</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the maximum risk score for each respondent</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  datasubject_maxriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(DataSubjectRiskScore <span class="sc">~</span> ID, data_subject, max)</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datasubject_maxriskscore_byid)</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>datasubject_maxriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_datasubject_maxriskscore</span>(data_subject, datasubject_riskscores, <span class="at">other_datasubject_riskscore =</span> <span class="dv">3</span>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(datasubject_maxriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataSubjectRiskScore
1    5                    1
2    6                    1
3    7                    1
4    8                    1
5    9                    1
6   10                    1
7   11                    1
8   12                    1
9   13                    1
10  14                    1
11  15                    1
12  16                    1
13  17                    1
14  18                    1
15  19                    3
16  20                    1
17  21                    1
18  22                    1
19  23                    1
20  24                    1
21  25                    1
22  26                    1
23  27                    1
24  28                    1
25  29                    0
26  30                    1
27  31                    1
28  32                    1
29  67                    1
30  78                    1
31  84                    1
32  96                    1
33 104                    1
34 111                    1
35 116                    1
36 119                    1
37 124                    3
38 133                    1
39 134                    1
40 138                    1
41 152                    1
42 159                    3
43 163                    1</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Personal Data Category</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to personal data categories</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>personaldatacategory_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Name &amp; Role: Name, Job Title, Job Level, Profession, Social Media Account"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Internal Identifiers: Student or Employment ID, Net ID, etc."</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Identification Numbers: Government ID, Tax ID, SSN, Passport Number, etc."</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Contact Information: Phone Number, Address, Email Address, Zip Code, IP Address"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Personal Characteristics: Place of Birth, Age, Marital Status, Race, Nationality, Ethnic Origin, Military Status"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Healthcare &amp; Physical Characteristics: Height, Weight, Health Symptoms, Disability, Medication, Heart Rate, Blood Pressure, Other Health Info"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Education &amp; Training: Major or Course of Study, Professional Certifications &amp; Licenses, Publications, Training Programs, Academic Grades, Ranking, Degrees Obtained, Schools and Universities Attended, Professional Org Membership, Professional Background, CV Information"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Financial Information: Financial Account Numbers, Credit Card &amp; Debit Card Numbers, CCV, CC Expiration Date, Loans, Compensation, Expenses, Incentives &amp; Bonuses, Insurance"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Biometrics &amp; Genetics: Fingerprints, Facial Photographs Used for Identification Purposes, Facial Recognition Data, Genetic Markers, Retina Scans, DNA Sequence"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Relationship Management: Engagement Rankings or Scores, Retention Ranking, Purchase Amount Ranking, Product or Services, Utilization Ranking, Other Customer, Student, Alumni Visitor, Measurements"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Physical &amp; Electronic Tracking: Event or Activity Attendance, Persistent Online Identifiers (e.g., Cookies), Precise Geographic Location Data, Surveillance Images, Browsing Infor (e.g., Website History, Network Interaction)"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Politics: Politics Party Affiliation, Political Opinions, Political Views, Political Official Position or Appointment"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Religion: Ecclesiastical Endorsements, Religious Practices, Religious Preference or Affiliation, Church, Synagogue or Other Place of Worship, Calling, Position or Role with Church, Synagogue or Other Place of Worship, Attendance at Religious Ceremonies"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Background &amp; Criminal: Legal Judgments or Orders, Criminal Convictions, Administrative Sanctions and Penalties, Criminal Suspicions, Criminal Charges, Criminal Sanctions and Penalties, Evictions, Results of a Background Check"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Dates: Date of Birth, Date of Death, Hire Date, Other Dates Relative to the Individual"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Misc.: Sexual Orientation, Data About Sex Life, Trade Union Membership, Philosophical Beliefs"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Other: Survey Responses, Club Membership, Travel Information, Family Information, Photographs, Video/Audio Recordings, User Account Info, Other Data Related to a Natural Person"</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the cumulative risk score for each respondent</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>calculate_personaldatacategory_cumulativeriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(personal_data_category, personaldatacategory_riskscores, <span class="at">other_personaldatacategory_riskscore =</span> <span class="sc">-</span><span class="dv">100</span>) {</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  personal_data_category<span class="sc">$</span>PersonalDataCategory[personal_data_category<span class="sc">$</span>PersonalDataCategory <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  personal_data_category<span class="sc">$</span>PersonalDataCategoryRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(personal_data_category<span class="sc">$</span>PersonalDataCategory), <span class="dv">0</span>,</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>                                             <span class="fu">ifelse</span>(personal_data_category<span class="sc">$</span>PersonalDataCategory <span class="sc">%in%</span> <span class="fu">names</span>(personaldatacategory_riskscores), personaldatacategory_riskscores[personal_data_category<span class="sc">$</span>PersonalDataCategory], other_personaldatacategory_riskscore))</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the risk score sum for each respondent</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  personaldatacategory_cumulativeriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(PersonalDataCategoryRiskScore <span class="sc">~</span> ID, personal_data_category, sum)</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(personaldatacategory_cumulativeriskscore_byid)</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>personaldatacategory_cumulativeriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_personaldatacategory_cumulativeriskscore</span>(personal_data_category, personaldatacategory_riskscores, <span class="at">other_personaldatacategory_riskscore =</span> <span class="sc">-</span><span class="dv">100</span>)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(personaldatacategory_cumulativeriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID PersonalDataCategoryRiskScore
1    5                            11
2    6                             1
3    7                            20
4    8                            24
5    9                             3
6   10                             3
7   11                             5
8   12                             9
9   13                             2
10  14                            15
11  15                            18
12  16                            17
13  17                            24
14  18                             3
15  19                             3
16  20                            14
17  21                             9
18  22                             3
19  23                             4
20  24                            20
21  25                             1
22  26                             5
23  27                             3
24  28                             3
25  29                             2
26  30                            18
27  31                             3
28  32                             2
29  67                            14
30  78                             7
31  84                            11
32  96                            14
33 104                             4
34 111                            23
35 116                             1
36 119                            21
37 124                            24
38 133                            14
39 134                            20
40 138                             9
41 152                            13
42 159                             2
43 163                            18</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Collection Source</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to data collection sources</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>datacollectionsource_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Directly from the individual"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"From another representative authorized to provide information on the individual's behalf (i.e., parent, ecclesiastical leader)"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"From another department or internal employee (i.e., professor, supervisor, etc.)"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Obtained from a 3rd Party (i.e., vendor)"</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the highest risk score for each respondent</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>calculate_datacollectionsource_maxriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(data_collection_source, datacollectionsource_riskscores, <span class="at">other_datacollectionsource_riskscore =</span> <span class="dv">3</span>) {</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  data_collection_source<span class="sc">$</span>DataCollectionSource[data_collection_source<span class="sc">$</span>DataCollectionSource <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  data_collection_source<span class="sc">$</span>DataCollectionSourceRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data_collection_source<span class="sc">$</span>DataCollectionSource), <span class="dv">0</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>                                             <span class="fu">ifelse</span>(data_collection_source<span class="sc">$</span>DataCollectionSource <span class="sc">%in%</span> <span class="fu">names</span>(datacollectionsource_riskscores), datacollectionsource_riskscores[data_collection_source<span class="sc">$</span>DataCollectionSource], other_datacollectionsource_riskscore))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the maximum risk score for each respondent</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  datacollectionsource_maxriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(DataCollectionSourceRiskScore <span class="sc">~</span> ID, data_collection_source, max)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datacollectionsource_maxriskscore_byid)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>datacollectionsource_maxriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_datacollectionsource_maxriskscore</span>(data_collection_source, datacollectionsource_riskscores, <span class="at">other_datacollectionsource_riskscore =</span> <span class="dv">3</span>)</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(datacollectionsource_maxriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataCollectionSourceRiskScore
1    5                             1
2    6                             1
3    7                             2
4    8                             2
5    9                             1
6   10                             1
7   11                             3
8   12                             1
9   13                             1
10  14                             1
11  15                             1
12  16                             1
13  17                             1
14  18                             3
15  19                             1
16  20                             1
17  21                             1
18  22                             3
19  23                             1
20  24                             2
21  25                             1
22  26                             1
23  27                             1
24  28                             2
25  29                             1
26  30                             2
27  31                             1
28  32                             1
29  67                             2
30  78                             1
31  84                             1
32  96                             1
33 104                             1
34 111                             1
35 116                             1
36 119                             1
37 124                             1
38 133                             2
39 134                             1
40 138                             2
41 152                             2
42 159                             3
43 163                             1</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Collection Method</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to data collection methods</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>datacollectionmethod_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Paper forms"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Electronic forms, surveys, or questionnaires"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Emails or other digital communications"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Mobile application or website"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Focus groups or interviews"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Business Application"</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the cumulative risk score for each respondent</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>calculate_datacollectionmethod_cumulativeriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(data_collection_method, datacollectionmethod_riskscores, <span class="at">other_datacollectionmethod_riskscore =</span> <span class="dv">3</span>) {</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  data_collection_method<span class="sc">$</span>DataCollectionMethod[data_collection_method<span class="sc">$</span>DataCollectionMethod <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  data_collection_method<span class="sc">$</span>DataCollectionMethodRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data_collection_method<span class="sc">$</span>DataCollectionMethod), <span class="dv">0</span>,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>                                             <span class="fu">ifelse</span>(data_collection_method<span class="sc">$</span>DataCollectionMethod <span class="sc">%in%</span> <span class="fu">names</span>(datacollectionmethod_riskscores), datacollectionmethod_riskscores[data_collection_method<span class="sc">$</span>DataCollectionMethod], other_datacollectionmethod_riskscore))</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the risk score sum for each respondent</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  datacollectionmethod_cumulativeriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(DataCollectionMethodRiskScore <span class="sc">~</span> ID, data_collection_method, sum)</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datacollectionmethod_cumulativeriskscore_byid)</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>datacollectionmethod_cumulativeriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_datacollectionmethod_cumulativeriskscore</span>(data_collection_method, datacollectionmethod_riskscores, <span class="at">other_datacollectionmethod_riskscore =</span> <span class="dv">3</span>)</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(datacollectionmethod_cumulativeriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataCollectionMethodRiskScore
1    5                             6
2    6                             5
3    7                             5
4    8                             9
5    9                             1
6   10                             2
7   11                             6
8   12                             3
9   13                             0
10  14                             3
11  15                             4
12  16                             5
13  17                             6
14  18                             3
15  19                             3
16  20                             3
17  21                             2
18  22                             3
19  23                             3
20  24                             5
21  25                             3
22  26                             2
23  27                             1
24  28                             3
25  29                             3
26  30                             6
27  31                             3
28  32                             6
29  67                             4
30  78                             1
31  84                             4
32  96                             4
33 104                             1
34 111                             6
35 116                             4
36 119                             6
37 124                             7
38 133                             5
39 134                             3
40 138                             4
41 152                             3
42 159                             4
43 163                             5</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shared Data</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to shared data (yes/no)</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>shareddata_riskscore_table <span class="ot">&lt;-</span> shared_data <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SharedDataRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(SharedData), <span class="dv">0</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(SharedData <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">1</span>, <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>SharedData)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(shareddata_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID SharedDataRiskScore
   &lt;dbl&gt;               &lt;dbl&gt;
 1     5                   0
 2     6                   0
 3     7                   1
 4     8                   1
 5     9                   0
 6    10                   0
 7    11                   1
 8    12                   0
 9    13                   0
10    14                   1
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DSAs</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to DSAs (yes/no)</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>dsas_riskscore_table <span class="ot">&lt;-</span> dsas <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DSAsRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(DSAs), <span class="dv">0</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(DSAs <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">0</span>, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>DSAs)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dsas_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID DSAsRiskScore
   &lt;dbl&gt;         &lt;dbl&gt;
 1     5             0
 2     6             0
 3     7             0
 4     8             3
 5     9             0
 6    10             0
 7    11             0
 8    12             0
 9    13             0
10    14             3
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Storage Location</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to data storage locations</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>datastoragelocation_riskscores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"File cabinet"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Hard drive"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Shared drive"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Box or One Drive"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Email"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Business Application"</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate and find the highest risk score for each respondent</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>calculate_datastoragelocation_maxriskscore <span class="ot">&lt;-</span> <span class="cf">function</span>(data_storage_location, datastoragelocation_riskscores, <span class="at">other_datastoragelocation_riskscore =</span> <span class="dv">3</span>) {</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Replace 'NA' or 'N/A' strings with NA value</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  data_storage_location<span class="sc">$</span>DataStorageLocation[data_storage_location<span class="sc">$</span>DataStorageLocation <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"NA"</span>, <span class="st">"N/A"</span>)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign risk scores to responses</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  data_storage_location<span class="sc">$</span>DataStorageLocationRiskScore <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data_storage_location<span class="sc">$</span>DataStorageLocation), <span class="dv">0</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(data_storage_location<span class="sc">$</span>DataStorageLocation <span class="sc">%in%</span> <span class="fu">names</span>(datastoragelocation_riskscores), datastoragelocation_riskscores[data_storage_location<span class="sc">$</span>DataStorageLocation], other_datastoragelocation_riskscore))</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Aggregate to find the maximum risk score for each respondent</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  datastoragelocation_maxriskscore_byid <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(DataStorageLocationRiskScore <span class="sc">~</span> ID, data_storage_location, max)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(datastoragelocation_maxriskscore_byid)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>datastoragelocation_maxriskscore_table <span class="ot">&lt;-</span> <span class="fu">calculate_datastoragelocation_maxriskscore</span>(data_storage_location, datastoragelocation_riskscores, <span class="at">other_datastoragelocation_riskscore =</span> <span class="dv">3</span>)</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(datastoragelocation_maxriskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataStorageLocationRiskScore
1    5                            2
2    6                            0
3    7                            2
4    8                            2
5    9                            1
6   10                            0
7   11                            3
8   12                            1
9   13                            2
10  14                            1
11  15                            2
12  16                            1
13  17                            3
14  18                            3
15  19                            3
16  20                            3
17  21                            2
18  22                            0
19  23                            1
20  24                            2
21  25                            3
22  26                            1
23  27                            0
24  28                            2
25  29                            1
26  30                            1
27  31                            2
28  32                            1
29  67                            1
30  78                            3
31  84                            2
32  96                            2
33 104                            1
34 111                            1
35 116                            1
36 119                            1
37 124                            3
38 133                            3
39 134                            3
40 138                            2
41 152                            1
42 159                            1
43 163                            2</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Public Facing Websites</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to public facing websites (yes/no)</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>publicfacingwebsites_riskscore_table <span class="ot">&lt;-</span> public_facing_websites <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PublicFacingWebsitesRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(PublicFacingWebsites), <span class="dv">0</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(PublicFacingWebsites <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">2</span>, <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>PublicFacingWebsites)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(publicfacingwebsites_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID PublicFacingWebsitesRiskScore
   &lt;dbl&gt;                         &lt;dbl&gt;
 1     5                             0
 2     6                             0
 3     7                             2
 4     8                             0
 5     9                             0
 6    10                             0
 7    11                             0
 8    12                             2
 9    13                             0
10    14                             2
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Privacy Notice</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to privacy notice (yes/no)</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>privacynotice_riskscore_table <span class="ot">&lt;-</span> privacy_notice <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PrivacyNoticeRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(PrivacyNotice), <span class="dv">0</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(PrivacyNotice <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">0</span>, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>PrivacyNotice)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(privacynotice_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID PrivacyNoticeRiskScore
   &lt;dbl&gt;                  &lt;dbl&gt;
 1     5                      0
 2     6                      0
 3     7                      0
 4     8                      0
 5     9                      0
 6    10                      0
 7    11                      0
 8    12                      0
 9    13                      0
10    14                      0
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cookie Banner</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to cookie banner (yes/no)</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>cookiebanner_riskscore_table <span class="ot">&lt;-</span> cookie_banner <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CookieBannerRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(CookieBanner), <span class="dv">0</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(CookieBanner <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">0</span>, <span class="dv">3</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>CookieBanner)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cookiebanner_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID CookieBannerRiskScore
   &lt;dbl&gt;                 &lt;dbl&gt;
 1     5                     0
 2     6                     0
 3     7                     0
 4     8                     0
 5     9                     0
 6    10                     0
 7    11                     0
 8    12                     0
 9    13                     0
10    14                     0
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Minor Related Data</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign risk scores to minor related data (yes/no)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>minorrelateddata_riskscore_table <span class="ot">&lt;-</span> minor_related_data <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">MinorRelatedDataRiskScore =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(MinorRelatedData), <span class="dv">0</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(MinorRelatedData <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">3</span>, <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>MinorRelatedData)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(minorrelateddata_riskscore_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 43 × 2
      ID MinorRelatedDataRiskScore
   &lt;dbl&gt;                     &lt;dbl&gt;
 1     5                         0
 2     6                         0
 3     7                         0
 4     8                         0
 5     9                         0
 6    10                         0
 7    11                         0
 8    12                         0
 9    13                         0
10    14                         0
# ℹ 33 more rows</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Join all risk score tables for all questions into one table</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>joined_risk_score_table <span class="ot">&lt;-</span> dataprocessingactivity_maxriskscore_table <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(datasubject_maxriskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(personaldatacategory_cumulativeriskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(datacollectionsource_maxriskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(datacollectionmethod_cumulativeriskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(shareddata_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(dsas_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(datastoragelocation_maxriskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(publicfacingwebsites_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(privacynotice_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(cookiebanner_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(minorrelateddata_riskscore_table, <span class="at">by =</span> <span class="st">"ID"</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(joined_risk_score_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataProcessingActivityRiskScore DataSubjectRiskScore
1    5                               3                    1
2    6                               1                    1
3    7                               3                    1
4    8                               3                    1
5    9                               3                    1
6   10                               3                    1
7   11                               3                    1
8   12                               3                    1
9   13                               2                    1
10  14                               3                    1
11  15                               2                    1
12  16                               3                    1
13  17                               3                    1
14  18                               3                    1
15  19                               3                    3
16  20                               2                    1
17  21                               3                    1
18  22                               1                    1
19  23                               3                    1
20  24                               3                    1
21  25                               3                    1
22  26                               0                    1
23  27                               2                    1
24  28                               3                    1
25  29                               3                    0
26  30                               3                    1
27  31                               3                    1
28  32                               3                    1
29  67                               3                    1
30  78                               1                    1
31  84                               3                    1
32  96                               2                    1
33 104                               3                    1
34 111                               3                    1
35 116                               1                    1
36 119                               3                    1
37 124                               3                    3
38 133                               3                    1
39 134                               3                    1
40 138                               3                    1
41 152                               3                    1
42 159                               3                    3
43 163                               3                    1
   PersonalDataCategoryRiskScore DataCollectionSourceRiskScore
1                             11                             1
2                              1                             1
3                             20                             2
4                             24                             2
5                              3                             1
6                              3                             1
7                              5                             3
8                              9                             1
9                              2                             1
10                            15                             1
11                            18                             1
12                            17                             1
13                            24                             1
14                             3                             3
15                             3                             1
16                            14                             1
17                             9                             1
18                             3                             3
19                             4                             1
20                            20                             2
21                             1                             1
22                             5                             1
23                             3                             1
24                             3                             2
25                             2                             1
26                            18                             2
27                             3                             1
28                             2                             1
29                            14                             2
30                             7                             1
31                            11                             1
32                            14                             1
33                             4                             1
34                            23                             1
35                             1                             1
36                            21                             1
37                            24                             1
38                            14                             2
39                            20                             1
40                             9                             2
41                            13                             2
42                             2                             3
43                            18                             1
   DataCollectionMethodRiskScore SharedDataRiskScore DSAsRiskScore
1                              6                   0             0
2                              5                   0             0
3                              5                   1             0
4                              9                   1             3
5                              1                   0             0
6                              2                   0             0
7                              6                   1             0
8                              3                   0             0
9                              0                   0             0
10                             3                   1             3
11                             4                   1             0
12                             5                   0             0
13                             6                   1             0
14                             3                   0             0
15                             3                   0             0
16                             3                   1             3
17                             2                   0             0
18                             3                   0             0
19                             3                   0             0
20                             5                   1             0
21                             3                   0             0
22                             2                   1             0
23                             1                   0             0
24                             3                   0             0
25                             3                   0             0
26                             6                   0             0
27                             3                   0             0
28                             6                   0             0
29                             4                   0             0
30                             1                   0             0
31                             4                   1             0
32                             4                   1             0
33                             1                   0             0
34                             6                   1             0
35                             4                   0             0
36                             6                   1             0
37                             7                   1             0
38                             5                   0             0
39                             3                   0             0
40                             4                   1             3
41                             3                   1             0
42                             4                   0             0
43                             5                   1             3
   DataStorageLocationRiskScore PublicFacingWebsitesRiskScore
1                             2                             0
2                             0                             0
3                             2                             2
4                             2                             0
5                             1                             0
6                             0                             0
7                             3                             0
8                             1                             2
9                             2                             0
10                            1                             2
11                            2                             2
12                            1                             2
13                            3                             2
14                            3                             0
15                            3                             2
16                            3                             2
17                            2                             0
18                            0                             0
19                            1                             0
20                            2                             2
21                            3                             0
22                            1                             0
23                            0                             0
24                            2                             0
25                            1                             0
26                            1                             2
27                            2                             0
28                            1                             2
29                            1                             0
30                            3                             2
31                            2                             2
32                            2                             2
33                            1                             0
34                            1                             2
35                            1                             2
36                            1                             2
37                            3                             2
38                            3                             2
39                            3                             2
40                            2                             2
41                            1                             2
42                            1                             2
43                            2                             0
   PrivacyNoticeRiskScore CookieBannerRiskScore MinorRelatedDataRiskScore
1                       0                     0                         0
2                       0                     0                         0
3                       0                     0                         0
4                       0                     0                         0
5                       0                     0                         0
6                       0                     0                         0
7                       0                     0                         0
8                       0                     0                         0
9                       0                     0                         0
10                      0                     0                         0
11                      0                     3                         0
12                      0                     0                         0
13                      0                     0                         0
14                      0                     0                         0
15                      0                     0                         0
16                      0                     0                         0
17                      0                     0                         0
18                      0                     0                         0
19                      0                     0                         0
20                      0                     0                         0
21                      0                     0                         0
22                      0                     0                         0
23                      0                     0                         0
24                      0                     0                         0
25                      0                     0                         0
26                      0                     0                         0
27                      0                     0                         0
28                      0                     0                         0
29                      0                     0                         0
30                      3                     0                         0
31                      0                     0                         0
32                      0                     0                         0
33                      0                     0                         0
34                      0                     0                         0
35                      0                     0                         0
36                      0                     0                         0
37                      0                     3                         3
38                      0                     0                         0
39                      0                     0                         0
40                      0                     0                         0
41                      0                     0                         0
42                      3                     3                         0
43                      0                     0                         0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum up all risk scores for all questions for each respondent</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>risk_scores <span class="ot">&lt;-</span> joined_risk_score_table <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">TotalRiskScore =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., DataProcessingActivityRiskScore, DataSubjectRiskScore, PersonalDataCategoryRiskScore, DataCollectionSourceRiskScore, DataCollectionMethodRiskScore, SharedDataRiskScore, DSAsRiskScore, DataStorageLocationRiskScore, PublicFacingWebsitesRiskScore, PrivacyNoticeRiskScore, CookieBannerRiskScore, MinorRelatedDataRiskScore)))</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(risk_scores)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID DataProcessingActivityRiskScore DataSubjectRiskScore
1    5                               3                    1
2    6                               1                    1
3    7                               3                    1
4    8                               3                    1
5    9                               3                    1
6   10                               3                    1
7   11                               3                    1
8   12                               3                    1
9   13                               2                    1
10  14                               3                    1
11  15                               2                    1
12  16                               3                    1
13  17                               3                    1
14  18                               3                    1
15  19                               3                    3
16  20                               2                    1
17  21                               3                    1
18  22                               1                    1
19  23                               3                    1
20  24                               3                    1
21  25                               3                    1
22  26                               0                    1
23  27                               2                    1
24  28                               3                    1
25  29                               3                    0
26  30                               3                    1
27  31                               3                    1
28  32                               3                    1
29  67                               3                    1
30  78                               1                    1
31  84                               3                    1
32  96                               2                    1
33 104                               3                    1
34 111                               3                    1
35 116                               1                    1
36 119                               3                    1
37 124                               3                    3
38 133                               3                    1
39 134                               3                    1
40 138                               3                    1
41 152                               3                    1
42 159                               3                    3
43 163                               3                    1
   PersonalDataCategoryRiskScore DataCollectionSourceRiskScore
1                             11                             1
2                              1                             1
3                             20                             2
4                             24                             2
5                              3                             1
6                              3                             1
7                              5                             3
8                              9                             1
9                              2                             1
10                            15                             1
11                            18                             1
12                            17                             1
13                            24                             1
14                             3                             3
15                             3                             1
16                            14                             1
17                             9                             1
18                             3                             3
19                             4                             1
20                            20                             2
21                             1                             1
22                             5                             1
23                             3                             1
24                             3                             2
25                             2                             1
26                            18                             2
27                             3                             1
28                             2                             1
29                            14                             2
30                             7                             1
31                            11                             1
32                            14                             1
33                             4                             1
34                            23                             1
35                             1                             1
36                            21                             1
37                            24                             1
38                            14                             2
39                            20                             1
40                             9                             2
41                            13                             2
42                             2                             3
43                            18                             1
   DataCollectionMethodRiskScore SharedDataRiskScore DSAsRiskScore
1                              6                   0             0
2                              5                   0             0
3                              5                   1             0
4                              9                   1             3
5                              1                   0             0
6                              2                   0             0
7                              6                   1             0
8                              3                   0             0
9                              0                   0             0
10                             3                   1             3
11                             4                   1             0
12                             5                   0             0
13                             6                   1             0
14                             3                   0             0
15                             3                   0             0
16                             3                   1             3
17                             2                   0             0
18                             3                   0             0
19                             3                   0             0
20                             5                   1             0
21                             3                   0             0
22                             2                   1             0
23                             1                   0             0
24                             3                   0             0
25                             3                   0             0
26                             6                   0             0
27                             3                   0             0
28                             6                   0             0
29                             4                   0             0
30                             1                   0             0
31                             4                   1             0
32                             4                   1             0
33                             1                   0             0
34                             6                   1             0
35                             4                   0             0
36                             6                   1             0
37                             7                   1             0
38                             5                   0             0
39                             3                   0             0
40                             4                   1             3
41                             3                   1             0
42                             4                   0             0
43                             5                   1             3
   DataStorageLocationRiskScore PublicFacingWebsitesRiskScore
1                             2                             0
2                             0                             0
3                             2                             2
4                             2                             0
5                             1                             0
6                             0                             0
7                             3                             0
8                             1                             2
9                             2                             0
10                            1                             2
11                            2                             2
12                            1                             2
13                            3                             2
14                            3                             0
15                            3                             2
16                            3                             2
17                            2                             0
18                            0                             0
19                            1                             0
20                            2                             2
21                            3                             0
22                            1                             0
23                            0                             0
24                            2                             0
25                            1                             0
26                            1                             2
27                            2                             0
28                            1                             2
29                            1                             0
30                            3                             2
31                            2                             2
32                            2                             2
33                            1                             0
34                            1                             2
35                            1                             2
36                            1                             2
37                            3                             2
38                            3                             2
39                            3                             2
40                            2                             2
41                            1                             2
42                            1                             2
43                            2                             0
   PrivacyNoticeRiskScore CookieBannerRiskScore MinorRelatedDataRiskScore
1                       0                     0                         0
2                       0                     0                         0
3                       0                     0                         0
4                       0                     0                         0
5                       0                     0                         0
6                       0                     0                         0
7                       0                     0                         0
8                       0                     0                         0
9                       0                     0                         0
10                      0                     0                         0
11                      0                     3                         0
12                      0                     0                         0
13                      0                     0                         0
14                      0                     0                         0
15                      0                     0                         0
16                      0                     0                         0
17                      0                     0                         0
18                      0                     0                         0
19                      0                     0                         0
20                      0                     0                         0
21                      0                     0                         0
22                      0                     0                         0
23                      0                     0                         0
24                      0                     0                         0
25                      0                     0                         0
26                      0                     0                         0
27                      0                     0                         0
28                      0                     0                         0
29                      0                     0                         0
30                      3                     0                         0
31                      0                     0                         0
32                      0                     0                         0
33                      0                     0                         0
34                      0                     0                         0
35                      0                     0                         0
36                      0                     0                         0
37                      0                     3                         3
38                      0                     0                         0
39                      0                     0                         0
40                      0                     0                         0
41                      0                     0                         0
42                      3                     3                         0
43                      0                     0                         0
   TotalRiskScore
1              24
2               9
3              36
4              45
5              10
6              10
7              22
8              20
9               8
10             30
11             34
12             30
13             41
14             16
15             18
16             30
17             18
18             11
19             13
20             36
21             12
22             11
23              8
24             14
25             10
26             33
27             13
28             16
29             25
30             19
31             25
32             27
33             11
34             38
35             11
36             36
37             50
38             30
39             33
40             27
41             26
42             24
43             34</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange in descending order</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>ordered_total_risk_score <span class="ot">&lt;-</span> risk_scores <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(TotalRiskScore)) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ID, TotalRiskScore)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ordered_total_risk_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID TotalRiskScore
1  124             50
2    8             45
3   17             41
4  111             38
5    7             36
6   24             36
7  119             36
8   15             34
9  163             34
10  30             33
11 134             33
12  14             30
13  16             30
14  20             30
15 133             30
16  96             27
17 138             27
18 152             26
19  67             25
20  84             25
21   5             24
22 159             24
23  11             22
24  12             20
25  78             19
26  19             18
27  21             18
28  18             16
29  32             16
30  28             14
31  23             13
32  31             13
33  25             12
34  22             11
35  26             11
36 104             11
37 116             11
38   9             10
39  10             10
40  29             10
41   6              9
42  13              8
43  27              8</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import DBQ Ensign College responses</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>ensign_college <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Department Baseline Questionnaire.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Ensign College"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the ID and name columns only</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>ensign_college <span class="ot">&lt;-</span> ensign_college[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>)]</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the column headers</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ensign_college) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ID"</span>,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Name"</span>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Join IDs with corresponding names and risk scores</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>dbq_prioritization <span class="ot">&lt;-</span> ordered_total_risk_score <span class="sc">%&gt;%</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(ensign_college, <span class="at">by =</span> <span class="st">"ID"</span>)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Swap column orders</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>dbq_prioritization <span class="ot">&lt;-</span> dbq_prioritization[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)]</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the results</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(dbq_prioritization)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID                                      Name TotalRiskScore
1  124                        Bradley D. LeBaron             50
2    8 David Brooksby (Dave Sorensen on 11/7/23)             45
3   17                             Maren Lythgoe             41
4  111                             Sarah Schmitz             38
5    7                            Grayson Layton             36
6   24                             Riley Niemand             36
7  119                              Aaron Larson             36
8   15                          Brittany Lambert             34
9  163                              Gail Singley             34
10  30                       Angela Pitts Brooks             33
11 134                              Erin Gunnell             33
12  14                                Eva Sommer             30
13  16                             Tanner Esplin             30
14  20                            Linda Campbell             30
15 133                              Adam Garland             30
16  96                            Jessie Robbins             27
17 138                                Matt Smith             27
18 152                           Daniel K. Greer             26
19  67                             Jason Allphin             25
20  84                           Jennifer Warnas             25
21   5                            David Brooksby             24
22 159                               Michael Ray             24
23  11                    Darren Lee Butterfield             22
24  12                               Derek Hatch             20
25  78                                  Ryan Amy             19
26  19                              Nada Midkiff             18
27  21                         Mark Edward Lewis             18
28  18                            Brett D Miller             16
29  32                             Haley Dunkley             16
30  28                          Zachary Marshall             14
31  23                             Brooke Linton             13
32  31                               Rick Decker             13
33  25                               Robert Lund             12
34  22                         Jennifer Harrison             11
35  26                         Jonathan Browning             11
36 104                                Alan Young             11
37 116                     Jacob Prior Sybrowsky             11
38   9                                 Paul Eden             10
39  10                                 Tim Sloan             10
40  29                          Jerome C Sandorf             10
41   6                                Troy Brady              9
42  13                               Gregory Fox              8
43  27                              Joseph Kerry              8</code></pre>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>